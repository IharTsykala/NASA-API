(this["webpackJsonpNASA-API"]=this["webpackJsonpNASA-API"]||[]).push([[0],{103:function(e,t,a){e.exports=a(135)},108:function(e,t,a){},109:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=(a(108),a(109),a(33)),u=a(24),i=a(74),s=a(82),p=a(21),d="[Data] Set data",m="[Data] Set today data",g=function(e){return{type:d,payload:e}},h={data:new Date,valueTodayDate:!0},f="[Photo] Get photo by day",v="[Photo] Set current photo",b="[Photo] Get catalog by day",y="[Photo] Set catalog",D="[getFailure] Get failure",E=function(e){return{type:f,payload:e}},w=function(e){return{type:v,payload:e}},O=function(e){return{type:y,payload:e}},j=function(e){return{type:D,payload:e}},S={currentPhoto:{},catalog:[{}]},k="[toggle] set toggle value",x={catalogValue:!1},P=Object(u.combineReducers)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});case m:return Object(p.a)(Object(p.a)({},e),{},{valueTodayDate:t.payload});default:return e}},currentPhoto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(p.a)(Object(p.a)({},e),{},{currentPhoto:t.payload});case y:return Object(p.a)(Object(p.a)({},e),{},{catalog:t.payload});default:return e}},catalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(p.a)(Object(p.a)({},e),{},{catalogValue:!e.catalogValue});default:return e}}}),N=a(172),V=a(81),A=a(162),T=a(17),_=a(171),I=function(e,t){e(g(t)),t.toString().slice(4,11)!==(new Date).toString().slice(4,11)?(localStorage.setItem("date",JSON.stringify(t.toString())),localStorage.setItem("valueTodayDate","")):localStorage.setItem("valueTodayDate","true")},C=Object(l.b)((function(e){return{currentDate:e.data.data}}))((function(e){var t=e.currentDate,a=e.dispatch,c=Date.parse(localStorage.getItem("date")||"[]");Object(n.useEffect)((function(){!c||Array.isArray(c)||localStorage.getItem("valueTodayDate")||(a(g(new Date(c))),a(E(new Date(c))))}),[c,a]),Object(n.useEffect)((function(){(c&&!Array.isArray(c)&&localStorage.getItem("valueTodayDate")||!c&&!localStorage.getItem("valueTodayDate"))&&a(E(t))}),[t,c,a]);return r.a.createElement(N.a,{component:"div",className:"calendar"},r.a.createElement(T.a,{utils:V.a},r.a.createElement(A.a,{container:!0,justify:"space-around"},r.a.createElement(_.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Date picker inline",value:t,onChange:function(e){e&&e.toString().slice(4,11)!==t.toString().slice(4,11)&&I(a,e)},KeyboardButtonProps:{"aria-label":"change date"},maxDate:new Date}))))})),B=a(166),M=a(173),F=Object(l.b)((function(e){return{currentDate:e.data.data,catalogValue:e.catalog.catalogValue}}))((function(e){var t=e.currentDate,a=e.catalogValue,c=e.dispatch;Object(n.useEffect)((function(){a&&c(function(e){return{type:b,payload:e}}(t))}),[a,t,c]);return r.a.createElement(N.a,{component:"div",className:"catalog"},r.a.createElement(B.a,{control:r.a.createElement(M.a,{checked:a,onChange:function(){c({type:k})},name:"checkedB",color:"primary"}),label:"Tape"}))})),J=function(){return r.a.createElement(N.a,{component:"div",className:"menu-block"},r.a.createElement(C,null),r.a.createElement(F,null))},W=a(177),q=a(167),G=a(168),Z=a(169),H=a(170),X=a(45),K=a(164),L=a(176),R=a(78),Y=a.n(R),$=a(79),z=a.n($),Q=Object(K.a)((function(e){return Object(L.a)({root:{width:"100vw",maxWidth:"1400px",margin:"auto",textAlign:"center"},media:{paddingTop:"56.25%",position:"relative"}})})),U=function(e){var t=e.currentDate,a=e.currentPhoto,n=e.catalogValue,c=e.dispatch,o=Q(),l=!1;(new Date).toString().slice(4,11)===t.toString().slice(4,11)&&(l=!0);var u=new Date(Date.parse(t.toString())-864e5),i=new Date(Date.parse(t.toString())+864e5),s=function(e){localStorage.getItem("valueTodayDate")&&c(E(e)),I(c,e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:o.root},r.a.createElement(G.a,{title:a.title,subheader:a.date}),a.url&&r.a.createElement(Z.a,{image:a.url,title:"photoOfTheDay",className:o.media},!n&&r.a.createElement(Y.a,{className:"photos-block__back",onClick:function(){return s(u)}}),!n&&!l&&r.a.createElement(z.a,{className:"photos-block__forward",onClick:function(){return s(i)}})),r.a.createElement(H.a,null,r.a.createElement(X.a,{variant:"body2",color:"textSecondary",component:"p"},a.explanation))))},ee=Object(l.b)((function(e){return{currentDate:e.data.data,currentPhoto:e.currentPhoto.currentPhoto,catalogValue:e.catalog.catalogValue,catalog:e.currentPhoto.catalog}}))((function(e){var t=e.currentDate,a=e.currentPhoto,n=e.catalogValue,c=e.catalog,o=e.dispatch;return r.a.createElement(N.a,{component:"div",className:"photos-block"},a&&!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{currentDate:t,currentPhoto:a,catalogValue:n,dispatch:o})),a&&n&&r.a.createElement(W.a,{className:"list_request__container__list"},c&&c.map((function(e,a){return r.a.createElement(U,{currentDate:t,currentPhoto:e,key:a,catalogValue:n})}))))})),te=function(){return r.a.createElement(N.a,{component:"div",className:"main-page"},r.a.createElement(J,null),r.a.createElement(ee,null))},ae=a(174),ne=a(22),re=a.n(ne),ce=a(39),oe=a(57),le=a(80),ue=a(117),ie="VhPpn50ZBCAiZCbJPSV9uHl1q3XXZuAq8PVDmwMH",se=function e(){Object(le.a)(this,e)};se.getPhoto=function(){var e=Object(oe.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.get("https://api.nasa.gov/planetary/apod?api_key=".concat(ie,"&date=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se.getCatalog=function(){var e=Object(oe.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.get("https://api.nasa.gov/planetary/apod?start_date=".concat(t,"&api_key=").concat(ie));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var pe=re.a.mark(he),de=re.a.mark(fe),me=re.a.mark(ve),ge=function(e){var t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0".concat(a));var n=e.getDate();return n<10&&(n="0".concat(n)),"".concat(t,"-").concat(a,"-").concat(n)};function he(e){var t;return re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,se.getPhoto(ge(e.payload));case 3:return t=a.sent,a.next=6,Object(ce.a)(w(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ce.a)(j(a.t0));case 12:case"end":return a.stop()}}),pe,null,[[0,8]])}function fe(e){var t;return re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,se.getCatalog(ge(e.payload));case 3:return t=a.sent,a.next=6,Object(ce.a)(O(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ce.a)(j(a.t0));case 12:case"end":return a.stop()}}),de,null,[[0,8]])}function ve(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.b)(f,he);case 2:return e.next=4,Object(ce.b)(b,fe);case 4:case"end":return e.stop()}}),me)}var be=Object(s.a)(),ye=Object(u.createStore)(P,Object(i.composeWithDevTools)({trace:!0,traceLimit:25})(Object(u.applyMiddleware)(be)));be.run(ve);var De=function(){return r.a.createElement(l.a,{store:ye},r.a.createElement(ae.a,null,r.a.createElement(N.a,{component:"div",className:"wrapper"},r.a.createElement(N.a,{component:"div",className:"main"},r.a.createElement(te,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=document.getElementById("root");o.a.render(r.a.createElement(De,null),Ee),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.52a2085f.chunk.js.map